<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gelato.app.eqm.eqmState.dao.EqmStateMapper">

	<select id="temperature" resultType="EqmStateVO">
		SELECT DISTINCT 
			   S.EQM_ID AS EQM_ID,
			   S.LOG_TM AS LOG_TM,
			   S.TEMP_NOW AS TEMP_NOW
		FROM EQM_ST_NOW S 
			 LEFT OUTER JOIN PRCS P
			 ON(S.EQM_ID = P.EQM_ID)
			 LEFT OUTER JOIN PRCS_NOW PN
			 ON(P.PRCS_ID = PN.PRCS_ID)
			 LEFT OUTER JOIN PRCS_ST PS
			 ON(PN.PRCS_NOW_ID = PS.PRCS_NOW_ID)
		ORDER BY EQM_ID
	</select>
	
	<select id="output" resultType="EqmStateVO">
		SELECT DISTINCT 
			   S.EQM_ID AS EQM_ID,
			   S.LOG_TM AS LOG_TM,
			   S.PROD_QY AS PROD_QY
		FROM EQM_ST_NOW S 
			 LEFT OUTER JOIN PRCS P
			 ON(S.EQM_ID = P.EQM_ID)
			 LEFT OUTER JOIN PRCS_NOW PN
			 ON(P.PRCS_ID = PN.PRCS_ID)
			 LEFT OUTER JOIN PRCS_ST PS
			 ON(PN.PRCS_NOW_ID = PS.PRCS_NOW_ID)
		WHERE PS.ST = 'STATE1'
		ORDER BY EQM_ID
	</select>
	
</mapper>